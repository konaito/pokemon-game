# 進化条件の設計バリエーション

## 概要

Monster Chronicleでは、以下の進化条件をサポートする:

| 条件タイプ   | condition値                   | 説明                                 |
| ------------ | ----------------------------- | ------------------------------------ |
| レベル進化   | (なし)                        | レベルが指定値以上で進化。デフォルト |
| アイテム進化 | `"item:{itemId}"`             | 特定のアイテムを使用して進化         |
| 時間帯進化   | `"time:day"` / `"time:night"` | 昼/夜にレベルアップで進化            |
| なつき進化   | `"friendship"`                | なつき度が十分高い状態でレベルアップ |
| 通信進化     | `"trade"`                     | 交換時に進化（将来実装）             |

## 条件文字列のフォーマット

`evolvesTo.condition` は以下のフォーマットの文字列:

```
undefined     → レベルのみ（level条件のみで進化）
"item:火の石"  → 「火の石」アイテム使用で進化
"time:day"    → 昼の時間帯にレベルアップ
"time:night"  → 夜の時間帯にレベルアップ
"friendship"  → なつき度が一定以上
"trade"       → 通信交換（将来実装）
```

## 分岐進化の例

```typescript
evolvesTo: [
  { id: "espeon", level: 30, condition: "time:day" },
  { id: "umbreon", level: 30, condition: "time:night" },
];
// → 30レベル以上で、昼ならエーフィ、夜ならブラッキーに進化
```

## 実装方針

`checkEvolution()` を拡張し、conditionを解釈して条件判定を行う。
コンテキスト情報（時間帯、アイテム使用有無等）を引数で受け取る。
